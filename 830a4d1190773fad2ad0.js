function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var style=document.createElement("style");function MultiselectDropdown(e){var t=_objectSpread({search:!0,height:"15rem",placeholder:"select",txtSelected:"selected",txtAll:"All",txtRemove:"Remove",txtSearch:"search"},e);function n(e,t){var n=document.createElement(e);return void 0!==t&&Object.keys(t).forEach((function(e){"class"===e?Array.isArray(t[e])?t[e].forEach((function(e){return""!==e?n.classList.add(e):0})):""!==t[e]&&n.classList.add(t[e]):"style"===e?Object.keys(t[e]).forEach((function(o){n.style[o]=t[e][o]})):"text"===e?""===t[e]?n.innerHTML="&nbsp;":n.innerText=t[e]:n[e]=t[e]})),n}document.querySelectorAll("select[multiple]").forEach((function(e,o){var l,r,i,c,d,s=n("div",{class:"multiselect-dropdown",style:{width:"100%",padding:null!==(l=null===(r=t.style)||void 0===r?void 0:r.padding)&&void 0!==l?l:""}});e.style.display="none",e.parentNode.insertBefore(s,e.nextSibling);var p=n("div",{class:"multiselect-dropdown-list-wrapper"}),a=n("div",{class:"multiselect-dropdown-list",style:{height:t.height}}),u=n("input",{class:["multiselect-dropdown-search"].concat([null!==(i=null===(c=t.searchInput)||void 0===c?void 0:c.class)&&void 0!==i?i:"form-control"]),style:{width:"100%",display:"true"===(null===(d=e.attributes["multiselect-search"])||void 0===d?void 0:d.value)?"block":"none"},placeholder:t.txtSearch});p.appendChild(u),s.appendChild(p),p.appendChild(a),e.loadOptions=function(){var o;if(a.innerHTML="","true"==(null===(o=e.attributes["multiselect-select-all"])||void 0===o?void 0:o.value)){var l=n("div",{class:"multiselect-dropdown-all-selector"}),r=n("input",{type:"checkbox"});l.appendChild(r),l.appendChild(n("label",{text:t.txtAll})),l.addEventListener("click",(function(){l.classList.toggle("checked"),l.querySelector("input").checked=!l.querySelector("input").checked;var t=l.querySelector("input").checked;a.querySelectorAll(":scope > div:not(.multiselect-dropdown-all-selector)").forEach((function(e){"none"!==e.style.display&&(e.querySelector("input").checked=t,e.optEl.selected=t)})),e.dispatchEvent(new Event("change"))})),r.addEventListener("click",(function(e){r.checked=!r.checked})),e.addEventListener("change",(function(e){var t=Array.from(a.querySelectorAll(":scope > div:not(.multiselect-dropdown-all-selector)")).filter((function(e){return"none"!==e.style.display})).find((function(e){return!e.querySelector("input").checked}));r.checked&&t?r.checked=!1:0==r.checked&&void 0===t&&(r.checked=!0)})),a.appendChild(l)}Array.from(e.options).map((function(t){var o=n("div",{class:t.selected?"checked":"",optEl:t}),l=n("input",{type:"checkbox",checked:t.selected});o.appendChild(l),o.appendChild(n("label",{text:t.text})),o.addEventListener("click",(function(){o.classList.toggle("checked"),o.querySelector("input").checked=!o.querySelector("input").checked,o.optEl.selected=!o.optEl.selected,e.dispatchEvent(new Event("change"))})),l.addEventListener("click",(function(e){l.checked=!l.checked})),t.listitemEl=o,a.appendChild(o)})),s.listEl=p,s.refresh=function(){var o,l,r,i;s.querySelectorAll("span.optext, span.placeholder").forEach((function(e){return s.removeChild(e)}));var c=Array.from(e.selectedOptions);c.length>(null!==(o=null===(l=e.attributes["multiselect-max-items"])||void 0===l?void 0:l.value)&&void 0!==o?o:6)?(c.slice(0,6).map((function(o){var l,r=n("span",{class:"optext",text:o.text,srcOption:o});"true"!==(null===(l=e.attributes["multiselect-hide-x"])||void 0===l?void 0:l.value)&&r.appendChild(n("span",{class:"optdel",text:"ðŸ—™",title:t.txtRemove,onclick:function(e){r.srcOption.listitemEl.dispatchEvent(new Event("click")),s.refresh(),e.stopPropagation()}})),s.appendChild(r)})),c.length>6&&s.appendChild(n("span",{class:"optext",text:"+"+(c.length-6)+" more",style:{fontStyle:"italic",background:"transparent"}}))):c.map((function(o){var l,r=n("span",{class:"optext",text:o.text,srcOption:o});"true"!==(null===(l=e.attributes["multiselect-hide-x"])||void 0===l?void 0:l.value)&&r.appendChild(n("span",{class:"optdel",text:"ðŸ—™",title:t.txtRemove,onclick:function(e){r.srcOption.listitemEl.dispatchEvent(new Event("click")),s.refresh(),e.stopPropagation()}})),s.appendChild(r)})),0==e.selectedOptions.length&&s.appendChild(n("span",{class:"placeholder",text:null!==(r=null===(i=e.attributes.placeholder)||void 0===i?void 0:i.value)&&void 0!==r?r:t.placeholder}))},s.refresh()},e.loadOptions(),u.addEventListener("input",(function(){a.querySelectorAll(":scope div:not(.multiselect-dropdown-all-selector)").forEach((function(e){var t=e.querySelector("label").innerText.toUpperCase();e.style.display=t.includes(u.value.toUpperCase())?"block":"none"}))})),s.addEventListener("click",(function(){s.listEl.style.display="block",u.focus(),u.select()})),document.addEventListener("click",(function(e){s.contains(e.target)||(p.style.display="none",s.refresh())}))}))}style.setAttribute("id","multiselect_dropdown_styles"),style.innerHTML="\n.multiselect-dropdown{\n  display: inline-block;\n  padding: 2px 5px 0px 5px;\n  border-radius: 4px;\n  border: solid 1px #ced4da;\n  background-color: white;\n  position: relative;\n  background-image: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\");\n  background-repeat: no-repeat;\n  background-position: right .75rem center;\n  background-size: 16px 12px;\n}\n.multiselect-dropdown span.optext, .multiselect-dropdown span.placeholder{\n  margin-right:0.5em; \n  margin-bottom:2px;\n  padding:1px 0; \n  border-radius: 4px; \n  display:inline-block;\n}\n.multiselect-dropdown span.optext{\n  background-color:lightgray;\n  padding:1px 0.75em; \n}\n.multiselect-dropdown span.optext .optdel {\n  float: right;\n  margin: 0 -6px 1px 5px;\n  font-size: 0.7em;\n  margin-top: 2px;\n  cursor: pointer;\n  color: #666;\n}\n.multiselect-dropdown span.optext .optdel:hover { color: #c66;}\n.multiselect-dropdown span.placeholder{\n  color:#ced4da;\n}\n.multiselect-dropdown-list-wrapper{\n  box-shadow: gray 0 3px 8px;\n  z-index: 100;\n  padding:2px;\n  border-radius: 4px;\n  border: solid 1px #ced4da;\n  display: none;\n  margin: -1px;\n  position: absolute;\n  top:0;\n  left: 0;\n  right: 0;\n  background: white;\n}\n.multiselect-dropdown-list-wrapper .multiselect-dropdown-search{\n  margin-bottom:5px;\n}\n.multiselect-dropdown-list{\n  padding:2px;\n  height: 15rem;\n  overflow-y:auto;\n  overflow-x: hidden;\n}\n.multiselect-dropdown-list::-webkit-scrollbar {\n  width: 6px;\n}\n.multiselect-dropdown-list::-webkit-scrollbar-thumb {\n  background-color: #bec4ca;\n  border-radius:3px;\n}\n\n.multiselect-dropdown-list div{\n  padding: 5px;\n}\n.multiselect-dropdown-list input{\n  height: 1.15em;\n  width: 1.15em;\n  margin-right: 0.35em;  \n}\n.multiselect-dropdown-list div.checked{\n}\n.multiselect-dropdown-list div:hover{\n  background-color: #ced4da;\n}\n.multiselect-dropdown span.maxselected {width:100%;}\n.multiselect-dropdown-all-selector {border-bottom:solid 1px #999;}\n",document.head.appendChild(style),window.addEventListener("load",(function(){MultiselectDropdown(window.MultiselectDropdownOptions)})),window.MultiSelectDropdown=MultiSelectDropdown;